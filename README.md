# CMA-CGM API Client

CMACGMClient - the Ruby gem for the Logistic Tracking service API - DCSA OpenAPI specification for Track &amp; Trace v2.2.0

Managing and sending Shipment-, Transport- and Equipment-events and subscriptions for Track &amp; Trace (T&amp;T). API specification issued by DCSA.org.

<i>Please note that shipment events and subscription management are not covered yet by CMA CGM API.</i>

<br> This API is accessible through
<ul> <li> <b> Public </b> connection (authentication with API Key): this allows to retrieve standard equipment moves (e.g. ready to be loaded, discharged), Transhipment moves (e.g. discharged and re-loaded onboard) and planned vessel departure and arrival dates. </li> <li> <b> Private </b> connection (authentication with Oauth2 client credentials): this allows to retrieve additional private events such as actual rail and ramp moves, planned departure and arrival dates for inland moves. These private events are available only if you (or your end customer) are identified on the booking as: Booking Party, Deciding Party, Consignee, Notifier or Shipper. </li> </ul> </br>
For explanation to specific values or objects please refer to the <a href='https://dcsa.org/wp-content/uploads/2021/10/202108_DCSA_P1_Information-Model-v3.3_TNT22_Final.pdf'>Information Model v3.3</a>
Polling can be done on the <b>GET /events</b> endPoint. DCSA version 2.2.0

This SDK is automatically generated by the [OpenAPI Generator](https://openapi-generator.tech) project:

- API version: 2.2.4
- Package version: 1.0.0
- Build package: org.openapitools.codegen.languages.RubyClientCodegen
For more information, please visit [https://api-portal.cma-cgm.com/](https://api-portal.cma-cgm.com/)

## Installation

### Build a gem

To build the Ruby code into a gem:

```shell
gem build cmacgm_client.gemspec
```

Then either install the gem locally:

```shell
gem install ./cmacgm_client-1.0.0.gem
```

(for development, run `gem install --dev ./cmacgm_client-1.0.0.gem` to install the development dependencies)

or publish the gem to a gem hosting service, e.g. [RubyGems](https://rubygems.org/).

Finally add this to the Gemfile:

    gem 'cmacgm_client', '~> 1.0.0'

### Install from Git

If the Ruby gem is hosted at a git repository: https://github.com/GIT_USER_ID/GIT_REPO_ID, then add the following in the Gemfile:

    gem 'cmacgm_client', :git => 'https://github.com/GIT_USER_ID/GIT_REPO_ID.git'

### Include the Ruby code directly

Include the Ruby code directly using `-I` as follows:

```shell
ruby -Ilib script.rb
```

## Getting Started

Please follow the [installation](#installation) procedure and then run the following code:

```ruby
# Load the gem
require 'cmacgm_client'

# Setup authorization
CMACGMClient.configure do |config|
  # Configure API key authorization: ApiKeyAuth
  config.api_key['ApiKeyAuth'] = 'YOUR API KEY'
  # Uncomment the following line to set a prefix for the API key, e.g. 'Bearer' (defaults to nil)
  # config.api_key_prefix['ApiKeyAuth'] = 'Bearer'

  # Configure OAuth2 access token for authorization: oAuth2
  config.access_token = 'YOUR ACCESS TOKEN'
  # Configure a proc to get access tokens in lieu of the static access_token configuration
  config.access_token_getter = -> { 'YOUR TOKEN GETTER PROC' } 
end

api_instance = CMACGMClient::EventsApi.new
tracking_reference = 'tracking_reference_example' # String | Shipment reference or Equipment identifier
opts = {
  behalf_of: '00002334567', # String | (Mandatory if you are a Third Party). This field specifies the end customer code you request a rate for. Use our referential API Partner to check if the end customer exists and to get its Partner ID code
  limit: 100, # Integer | Maximum number of items to return.
  cursor: 'fE9mZnNldHw9MTAmbGltaXQ9MTA=' # String | A server generated value to specify a specific point in a collection result, used for pagination.
}

begin
  #Find Commercial events from unique tracking greference.
  result = api_instance.get_move_on_commercial_cycle(tracking_reference, opts)
  p result
rescue CMACGMClient::ApiError => e
  puts "Exception when calling EventsApi->get_move_on_commercial_cycle: #{e}"
end

```

## Documentation for API Endpoints

All URIs are relative to *https://apis.cma-cgm.net/operation/trackandtrace/v1*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*CMACGMClient::EventsApi* | [**get_move_on_commercial_cycle**](docs/EventsApi.md#get_move_on_commercial_cycle) | **GET** /events/{trackingReference} | Find Commercial events from unique tracking greference.
*CMACGMClient::EventsApi* | [**search_move_on_commercial_cycle**](docs/EventsApi.md#search_move_on_commercial_cycle) | **GET** /events | Find Commercial events.


## Documentation for Models

 - [CMACGMClient::Address](docs/Address.md)
 - [CMACGMClient::BaseEquipmentEvent](docs/BaseEquipmentEvent.md)
 - [CMACGMClient::BaseEvent](docs/BaseEvent.md)
 - [CMACGMClient::BaseEventBody](docs/BaseEventBody.md)
 - [CMACGMClient::BaseShipmentEvent](docs/BaseShipmentEvent.md)
 - [CMACGMClient::BaseTransportEvent](docs/BaseTransportEvent.md)
 - [CMACGMClient::CarrierSpecificData](docs/CarrierSpecificData.md)
 - [CMACGMClient::CustomsReferences](docs/CustomsReferences.md)
 - [CMACGMClient::DocumentReferencesInner](docs/DocumentReferencesInner.md)
 - [CMACGMClient::DocumentTypeCode](docs/DocumentTypeCode.md)
 - [CMACGMClient::EmptyIndicatorCode](docs/EmptyIndicatorCode.md)
 - [CMACGMClient::EquipmentEvent](docs/EquipmentEvent.md)
 - [CMACGMClient::EquipmentEventTypeCode](docs/EquipmentEventTypeCode.md)
 - [CMACGMClient::Error](docs/Error.md)
 - [CMACGMClient::FacilityCodeListProvider](docs/FacilityCodeListProvider.md)
 - [CMACGMClient::FacilityTypeCodeTRN](docs/FacilityTypeCodeTRN.md)
 - [CMACGMClient::InlineResponseDefault](docs/InlineResponseDefault.md)
 - [CMACGMClient::Location](docs/Location.md)
 - [CMACGMClient::ModeOfTransport](docs/ModeOfTransport.md)
 - [CMACGMClient::OperationsTransportEvent](docs/OperationsTransportEvent.md)
 - [CMACGMClient::Reference](docs/Reference.md)
 - [CMACGMClient::ReferenceType](docs/ReferenceType.md)
 - [CMACGMClient::References](docs/References.md)
 - [CMACGMClient::Seal](docs/Seal.md)
 - [CMACGMClient::SealSource](docs/SealSource.md)
 - [CMACGMClient::SealType](docs/SealType.md)
 - [CMACGMClient::Seals](docs/Seals.md)
 - [CMACGMClient::SearchMoveOnCommercialCycle200ResponseInner](docs/SearchMoveOnCommercialCycle200ResponseInner.md)
 - [CMACGMClient::ShipmentEvent](docs/ShipmentEvent.md)
 - [CMACGMClient::ShipmentEventTypeCode](docs/ShipmentEventTypeCode.md)
 - [CMACGMClient::SubErrorsInner](docs/SubErrorsInner.md)
 - [CMACGMClient::TransportCall](docs/TransportCall.md)
 - [CMACGMClient::TransportCallAllOfLocation](docs/TransportCallAllOfLocation.md)
 - [CMACGMClient::TransportEvent](docs/TransportEvent.md)
 - [CMACGMClient::TransportEventTypeCode](docs/TransportEventTypeCode.md)
 - [CMACGMClient::Vessel](docs/Vessel.md)
 - [CMACGMClient::VesselOperatorCarrierCodeListProvider](docs/VesselOperatorCarrierCodeListProvider.md)


## Documentation for Authorization


Authentication schemes defined for the API:
### oAuth2


- **Type**: OAuth
- **Flow**: application
- **Authorization URL**: 
- **Scopes**: 
  - tandtcommercial:read:be: read access for private enpoints
  - tandtpublic:read:be: read access for public enpoints

### ApiKeyAuth


- **Type**: API key
- **API key parameter name**: keyId
- **Location**: HTTP header

